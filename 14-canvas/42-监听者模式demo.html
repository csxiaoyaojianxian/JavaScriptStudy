<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>

        // 一个监听者 服务与 多个听众
        // 监听者
        var jianTingZhe = {

            // 听众列表
            listeners: {
                birdOver: [],
                birdFlappy: [],
                birdRotate: []
            },

            // 小鸟死亡触发时，告知所有监听死亡的听众
            triggerBirdOver: function() {
                this.listeners.birdOver.forEach( function( listen ) {
                    listen();
                });
            },

            // 小鸟飞翔的时候，告知所有监听飞翔的听众
            triggerBirdFlappy: function() {
                this.listeners.birdFlappy.forEach( function( listen ) {
                    listen();
                });
            },

            // 小鸟飞翔的时候，告知所有监听飞翔的听众
            triggerBirdRotate: function() {
                this.listeners.birdRotate.forEach( function( listen ) {
                    listen();
                });
            }

        };

        // 这是一个模块，整体可以认为是一个听众监听N多事件
        (function( w ) {
            // 小鸟死亡听众
            jianTingZhe.listeners.birdOver.push( function() {
                console.log( '小鸟死了，我就哭' );
            } );
            jianTingZhe.listeners.birdOver.push( function() {
                console.log( '小鸟死了，我很伤心' );
            } );
            jianTingZhe.listeners.birdOver.push( function() {
                console.log( '小鸟死了，我要埋葬它' );
            } );

            // 小鸟飞翔听众
            jianTingZhe.listeners.birdFlappy.push( function() {
                console.log( '小鸟飞了，我很搞笑' );
            });
            jianTingZhe.listeners.birdFlappy.push( function() {
                console.log( '小鸟飞了，我要把射下来' );
            });

            // 小鸟旋转听众
            jianTingZhe.listeners.birdRotate.push( function() {
                console.log( '小鸟转了，呱唧呱唧!' );
            });
        }( window ));

        // 这是另一个模块，整体可以认为是一个听众
        (function( w ) {
            // 小鸟旋转听众
            jianTingZhe.listeners.birdRotate.push( function() {
                console.log( '我是模块2' );
            });
        }( window ));


        // 监听到小鸟死了
        jianTingZhe.triggerBirdOver();
        // 监听到小鸟转了
        jianTingZhe.triggerBirdRotate()
        // 监听到小鸟飞翔了
        jianTingZhe.triggerBirdFlappy()
    </script>
</body>
</html>